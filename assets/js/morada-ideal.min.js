(()=>{function a(){let s=document.getElementById("user_pass");if(s,s){let i=document.querySelectorAll(".meter-section");i.length<=0||s.addEventListener("keyup",()=>{{var a=s,r=i;let e=a.value,t=(e=>{let t=0;return t+=.2*e.length,/[A-Z]/.test(e)&&(t+=.5),/[a-z]/.test(e)&&(t+=.5),/\d/.test(e)&&(t+=.7),/[^A-Za-z0-9]/.test(e)&&(t+=1),t})(e);r.forEach(e=>{e.classList.remove("weak","medium","strong","very-strong")}),1<=t&&r[0].classList.add("weak"),2<=t&&r[1].classList.add("medium"),3<=t&&r[2].classList.add("strong"),4<=t&&r[3].classList.add("very-strong"),console.log("strength",t)}})}}function c(e,t,a){console.log(t);var r=document.createElement("div");r.innerHTML=[`<div id="contact-form-alert" class="alert alert-${a} alert-dismissible" role="alert">`,`   <div>${t}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',"</div>"].join(""),e.append(r)}function r(){var e=document.querySelectorAll(".mi-caracteristicas-especificas-group");Array.from(e).forEach(e=>{var t=e.querySelector(".mi-caracteristicas-especificas-group-list"),a=e.querySelectorAll(".list-group-item"),r=e.querySelector(".mi-group-new-item-btn");!a||a.length<=0?console.error("Não foi encontrado nenhum item da lista de perguntas e respostas (FAQ)."):t?r?(a=r,(r=(t=e).querySelector(".mi-caracteristicas-especificas-group-list"))?a.addEventListener("click",function(e,t,a){a.preventDefault();var a=document.createElement("li"),r=(a.classList.add("mi-caracteristicas-especificas-group-item"),a.classList.add("list-group-item"),a.id="mi-caracteristicas-especificas-group-item-",a.dataset.faqGroupItemId="",document.createElement("label")),r=(r.setAttribute("for","imovel_caracteristicas-especificas-"),r.classList.add("form-label"),r.innerText="Característica",a.append(r),document.createElement("input")),r=(r.setAttribute("type","text"),r.classList.add("form-control"),r.id="imovel_caracteristicas-especificas-",r.name="imovel_caracteristicas-especificas[]",a.append(r),document.createElement("div")),r=(r.classList.add("invalid-feedback"),r.innerText="Campo obrigatório",a.append(r),document.createElement("div")),i=(r.classList.add("d-flex"),document.createElement("a"));i.classList.add("mi-delete-caracteristicas-especificas-group"),i.classList.add("btn"),i.classList.add("btn-danger"),i.classList.add("btn-sm"),i.classList.add("mt-2"),i.classList.add("ms-auto"),i.innerHTML='<i class="bi bi-x-circle-fill"></i> Remover item',r.append(i),a.append(r),e.append(a),o(t),s(t)}.bind(null,r,t)):console.error("Não foi encontrado a lista de itens de perguntas e respostas (FAQ)."),o(e)):console.error("Não foi encontrado o botão para adicionar novos itens na lista de perguntas e respostas (FAQ)."):console.error("Não foi encontrado a lista de itens de perguntas e respostas (FAQ).")})}function s(e){var t=e.querySelector(".mi-caracteristicas-especificas-group-list"),e=e.querySelectorAll(".list-group-item");if(!e||e.length<=0)console.error("Não foi encontrado nenhum item da lista de perguntas e respostas (FAQ).");else{if(t)return Array.from(e).forEach((e,t)=>{let a="imovel_caracteristicas-pergunta-"+(e.dataset.faqGroupItemId=t),r="imovel_caracteristicas-resposta-"+t;t=e.querySelectorAll("label"),e=e.querySelectorAll("input");t.forEach((e,t)=>{0===t?e.setAttribute("for",a):e.setAttribute("for",r)}),e.forEach((e,t)=>{0===t&&(e.id=a)})}),e.length;console.error("Não foi encontrado a lista de itens de perguntas e respostas (FAQ).")}}function o(t){var e=document.querySelectorAll(".mi-delete-caracteristicas-especificas-group");Array.from(e).forEach(e=>{e.removeEventListener("click",i),e.addEventListener("click",i.bind(null,t))})}function i(e,t){t.preventDefault();e=s(e),t=t.target.closest(".mi-caracteristicas-especificas-group-item");1<e?t.remove():t.querySelector("input").value=""}document.addEventListener("DOMContentLoaded",function(){e=document.querySelectorAll(".needs-validation"),Array.from(e).forEach(t=>{t.addEventListener("submit",e=>{t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")},!1)}),a(),e=document.querySelectorAll(".toast"),Array.from(e).forEach(e=>{console.log("toasts"),bootstrap.Toast.getOrCreateInstance(e).show()}),(e=document.getElementById("user_phone"))&&IMask(e,{mask:"(00) 0000-0000[0]"}),(e=document.getElementById("user_whatsapp"))&&IMask(e,{mask:"(00) 0000-00000"});var e=document.getElementById("imovel_price"),t={mask:"num",blocks:{num:{mask:Number,scale:2,thousandsSeparator:".",padFractionalZeros:!0,radix:",",mapToRadix:["."]}}};e&&IMask(e,t),e=document.querySelectorAll(".go-back-btn"),Array.from(e).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),history.back()})}),t=document.querySelectorAll('input[type="file"]'),Array.from(t).forEach(e=>{e.onchange=function(){2097152<this.files[0].size&&(alert("O arquivo é muito pesado, o tamanho máximo permitido é de 2MB."),this.value="")}}),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(e=>new bootstrap.Tooltip(e)),document.querySelectorAll(".mi-file-image-preview").forEach(e=>{let r=e.querySelector('input[type="file"]'),i=e.querySelector(".images-preview"),s=e.querySelector(".btn-clear-image"),o=e.querySelector('input[name="changed-thumbnail"]');s.addEventListener("click",e=>{for(e.preventDefault(),r.value=null;i.firstChild;)i.removeChild(i.lastChild);s.style.display="none",o.value="true"}),r.addEventListener("change",e=>{for(var t,e=e.target.files;i.firstChild;)i.removeChild(i.lastChild);for(t of e){var a=document.createElement("img");a.classList.add("image-preview"),a.src=URL.createObjectURL(t),i.append(a)}s.style.display="block",o.value="true",console.log("fileInput",r.value)})}),document.querySelectorAll(".clear-input-value").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=document.getElementById(t.dataset.input);e&&(e.value="")})}),document.querySelectorAll(".mi-contact-form").forEach(n=>{n.addEventListener("submit",o=>{if(o.preventDefault(),document.getElementById("contact-form-alert"),document.getElementById("contact-form-alert")&&bootstrap.Alert.getOrCreateInstance("#contact-form-alert").close(),n.checkValidity()){n.classList.add("was-validated");let a=n.querySelector("#nome"),r=n.querySelector("#email"),i=n.querySelector("#mensagem"),s=n.querySelector("button");if(s,s&&!s.disabled){s.disabled=!0;let e=s.innerText;s.innerText="Enviando...";var o=ajax_object.ajax_url,l=new FormData(n);l.get("action");let t=document.getElementById("contact-form-alert-placeholder");fetch(o,{method:"POST",body:l}).then(e=>e.json()).then(e=>{c(t,e.data.msg,"success"),a.value="",r.value="",i.value=""}).catch(e=>{console.error(e),c(t,e,"danger")}).finally(()=>{s.disabled=!1,s.innerText=e,n.classList.remove("was-validated")})}}})}),e={...e={page:10,pagination:[{item:'<li class="page-item"><a class="page page-link"></a></li>'}]},valueNames:["nome"],page:10},t=document.getElementById("table-operacao-imoveis"),new List(t,e),t=document.getElementById("table-tipo-imoveis"),new List(t,e),t=document.getElementById("table-regiao-imoveis"),new List(t,e),t=document.getElementById("table-caracteristicas-gerais-imoveis"),new List(t,e),t=document.getElementById("table-tipologia-imoveis"),new List(t,e),t=document.getElementById("table-outras-denominacoes-imoveis"),new List(t,e),t=document.getElementById("table-casas-de-banho-imoveis"),new List(t,e),t=document.getElementById("table-estado-imoveis"),new List(t,e),t=document.getElementById("table-filtro-imoveis"),new List(t,e),t=document.getElementById("table-andar-imoveis"),new List(t,e),r()})})();